// TODO: add the middleware for error handling